<!-- templates/reviews-read.html -->
<div th:fragment="reviewsReadContent" class="container reviews">

    <section class="post-read">

        <div class="reviews-title-row">
            <h1 class="page-title" th:text="${post.title}">제목</h1>

            <!-- ✅ 웹/유니티 분기: 유니티면 /reviews-unity 로, 아니면 /reviews 로 -->
            <a class="write-btn"
               th:href="${isUnity} ? @{/reviews-unity} : @{/reviews}"
               href="/reviews">
                ← 목록으로
            </a>
        </div>

        <div class="post-meta" style="margin-top: 8px;">
            <span th:text="${post.writer != null ? post.writer.fullName : '익명'}"></span>
            <span> · </span>
            <span th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}">2026-01-27 16:40</span>
        </div>

        <!-- 선택 메타 태그 -->
        <div class="post-meta" style="margin-top: 12px; display: flex; gap: 8px; flex-wrap: wrap;">
            <!-- 여행유형 칩 -->
            <span class="chip"
                  th:if="${post.travelType != null}"
                  th:text="${post.travelType == 'solo' ? '혼자' :
                           post.travelType == 'couple' ? '커플' :
                           post.travelType == 'family' ? '가족' :
                           post.travelType == 'friends' ? '친구' : post.travelType}">
            </span>

            <!-- 테마 칩 -->
            <span class="chip"
                  th:if="${post.theme != null}"
                  th:text="${post.theme == 'freedom' ? '자유여행' :
                           post.theme == 'healing' ? '힐링' :
                           post.theme == 'food' ? '맛집' :
                           post.theme == 'activity' ? '액티비티' :
                           post.theme == 'nature' ? '자연' : post.theme}">
            </span>

            <span class="chip"
                  th:if="${post.period != null and !post.period.isEmpty()}"
                  th:text="${post.period}">period</span>

            <span class="chip"
                  th:if="${post.level != null and !post.level.isEmpty()}"
                  th:text="${post.level}">level</span>

            <span class="chip"
                  th:each="tag : ${post.regionTags}"
                  th:text="${tag}">region</span>
        </div>

        <!-- 예산 -->
        <div class="post-budget" style="margin-top: 14px;">
            <div>
                항공: <b th:text="${post.budgetFlight ?: 0}">0</b>만 /
                숙박: <b th:text="${post.budgetLodging ?: 0}">0</b>만 /
                식비: <b th:text="${post.budgetFood ?: 0}">0</b>만 /
                기타: <b th:text="${post.budgetExtra ?: 0}">0</b>만
            </div>

            <div style="margin-top: 6px;">
                사용 금액:
                <b th:text="${
                    (post.budgetFlight ?: 0)
                  + (post.budgetLodging ?: 0)
                  + (post.budgetFood ?: 0)
                  + (post.budgetExtra ?: 0)
                }">0</b>만 원
            </div>
        </div>

        <hr style="margin: 18px 0; border: 0; border-top: 1px solid #e5e7eb;">

        <!-- ✅ Quill HTML 본문 렌더링 -->
        <article class="post-content" th:utext="${post.content}">
            본문
        </article>

    </section>

</div>
