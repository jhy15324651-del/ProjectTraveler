<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—¬í–‰ í›„ê¸° ê²Œì‹œíŒ - ì¼ë³¸ ì—¬í–‰ LMS</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" href="/css/style.css">
</head>
<body class="main-page">

<!-- âœ… fetch ì—†ì´ Thymeleafë¡œ í—¤ë” ì‚½ì… -->
<div th:replace="fragments/main-header :: mainHeader"></div>

<main class="container reviews">

    <div class="reviews-title-row">
        <h1 class="page-title">ì—¬í–‰ í›„ê¸°</h1>

        <a class="write-btn" th:href="@{/reviews-post}" href="/reviews-post">
            í›„ê¸° ì‘ì„±í•˜ê¸°
        </a>
    </div>

    <!-- =========================
         í•„í„° íŒ¨ë„ (ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ ëª¨ë°©)
    ========================== -->
    <form id="filterForm" method="get" th:action="@{/reviews}">
        <section class="filter-panel">

            <!-- ì—¬í–‰ ìœ í˜• (íƒ1) -->
            <div class="filter-row">
                <div class="filter-label">
                    ì—¬í–‰ìœ í˜•
                    <div class="filter-hint single">* í•œ ê°œë§Œ ì„ íƒ</div>
                </div>
                <div class="filter-chips" data-key="type" data-mode="single">
                    <button type="button" class="chip active" data-value="">ì „ì²´</button>
                    <button type="button" class="chip" data-value="solo">í˜¼ì</button>
                    <button type="button" class="chip" data-value="couple">ì»¤í”Œ</button>
                    <button type="button" class="chip" data-value="family">ê°€ì¡±</button>
                    <button type="button" class="chip" data-value="friends">ì¹œêµ¬</button>
                </div>
                <input type="hidden" name="type" id="f_type" value="">
            </div>

            <!-- í…Œë§ˆ (íƒ1) -->
            <div class="filter-row">
                <div class="filter-label">
                    í…Œë§ˆ
                    <div class="filter-hint single">* í•œ ê°œë§Œ ì„ íƒ</div>
                </div>
                <div class="filter-chips" data-key="theme" data-mode="single">
                    <button type="button" class="chip active" data-value="">ì „ì²´</button>
                    <button type="button" class="chip" data-value="freedom">ììœ </button>
                    <button type="button" class="chip" data-value="healing">íë§</button>
                    <button type="button" class="chip" data-value="food">ë§›ì§‘</button>
                    <button type="button" class="chip" data-value="activity">ì•¡í‹°ë¹„í‹°</button>
                    <button type="button" class="chip" data-value="nature">ìì—°</button>

                </div>
                <input type="hidden" name="theme" id="f_theme" value="">
            </div>

            <!-- ì˜ˆì‚° (ìŠ¬ë¼ì´ë”: 5ë§Œì› ~ 500ë§Œì› / 100ì› ë‹¨ìœ„) -->
            <div class="filter-row">
                <div class="filter-label">ì˜ˆì‚°</div>

                <div class="reviews-budget">
                    <div class="reviews-budget-values">
                        <span id="budgetMinLabel">0ì›</span>
                        <span> ~ </span>
                        <span id="budgetMaxLabel">5,000,000ì›</span>
                    </div>

                    <div class="reviews-budget-slider">
                        <div class="reviews-budget-track">
                            <div class="reviews-budget-range" id="budgetRange"></div>
                        </div>
                        <!-- ìµœì†Œ -->
                        <input
                                type="range"
                                id="budgetMin"
                                min="0"
                                max="5000000"
                                step="100"
                                value="0"
                        />

                        <!-- ìµœëŒ€ -->
                        <input
                                type="range"
                                id="budgetMax"
                                min="0"
                                max="5000000"
                                step="100"
                                value="5000000"
                        />
                    </div>

                    <div class="reviews-budget-ticks" id="budgetTicks"></div>

                    <!-- ì„œë²„ë¡œ ì „ë‹¬ë  ê°’ -->
                    <input type="hidden" name="budgetMin" id="f_budgetMin" value="50000">
                    <input type="hidden" name="budgetMax" id="f_budgetMax" value="5000000">
                </div>
            </div>

            <!-- ê¸°ê°„ (ë³µìˆ˜ OR ê³ ì • / prefix d_) -->
            <div class="filter-row">
                <div class="filter-label">
                    ê¸°ê°„
                    <div class="filter-hint multi">* ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥</div>
                </div>

                <div class="filter-chips" data-key="period" data-mode="multi-or">
                    <button type="button" class="chip active" data-value="">ì „ì²´</button>
                    <button type="button" class="chip" data-value="d_ë‹¹ì¼ì¹˜ê¸°">ë‹¹ì¼</button>
                    <button type="button" class="chip" data-value="d_1ë°•2ì¼">1ë°•2ì¼</button>
                    <button type="button" class="chip" data-value="d_2ë°•3ì¼">2ë°•3ì¼</button>
                    <button type="button" class="chip" data-value="d_3ë°•4ì¼">3ë°•4ì¼</button>
                </div>
                <!-- JSê°€ periodTags hidden inputë“¤ì„ ì—¬ê¸°ì— ìƒì„± -->
                <div id="periodInputs"></div>
            </div>

            <!-- ë‚œì´ë„ (ë³µìˆ˜ OR) -->
            <div class="filter-row">
                <div class="filter-label">
                    ë‚œì´ë„
                    <div class="filter-hint multi">* ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥</div>
                </div>

                <div class="filter-chips" data-key="level" data-mode="multi-or">
                    <button type="button" class="chip active" data-value="">ì „ì²´</button>
                    <button type="button" class="chip" data-value="lv_ì´ˆê¸‰">ì´ˆê¸‰</button>
                    <button type="button" class="chip" data-value="lv_ì¤‘ê¸‰">ì¤‘ê¸‰</button>
                    <button type="button" class="chip" data-value="lv_ìƒê¸‰">ìƒê¸‰</button>
                </div>
                <div id="levelInputs"></div>
            </div>

            <!-- ì§€ì—­  -->
            <div class="filter-row region-row">

                <!-- âœ… ì™¼ìª½: ë¼ë²¨ ì „ìš© -->
                <div class="filter-label">
                    ì§€ì—­
                    <div class="filter-hint multi">* ì¤‘ë³µ ì„ íƒ ê°€ëŠ¥</div>
                </div>

                <!-- âœ… ì˜¤ë¥¸ìª½: ì‹¤ì œ UI -->
                <div class="region-inline">
                    <div class="filter-chips" data-key="region" data-mode="multi-toggle">
                        <button type="button" class="chip active" data-value="">ì „ì²´</button>
                        <button type="button" class="chip" data-value="r_ë„ì¿„">ë„ì¿„</button>
                        <button type="button" class="chip" data-value="r_ì˜¤ì‚¬ì¹´">ì˜¤ì‚¬ì¹´</button>
                        <button type="button" class="chip" data-value="r_êµí† ">êµí† </button>
                        <button type="button" class="chip" data-value="r_í›„ì¿ ì˜¤ì¹´">í›„ì¿ ì˜¤ì¹´</button>
                        <button type="button" class="chip" data-value="r_ì‚¿í¬ë¡œ">ì‚¿í¬ë¡œ</button>
                    </div>
                </div>

                <!-- âœ… (3) ì„¤ëª…ë¬¸: ì•„ë˜ë¡œ ë‚´ë ¤ì„œ "2ì—´ span" ì²˜ë¦¬í•  ëŒ€ìƒ -->
                <div class="filter-hint sub one-line region-desc">
                    * ì§€ì—­ ì¤‘ë³µ ì„ íƒ ì‹œ ì„ íƒí•œ ì§€ì—­ì´ ëª¨ë‘ í¬í•¨ëœ ê²Œì‹œê¸€ì´ ë¨¼ì € ë³´ì…ë‹ˆë‹¤.
                </div>

                <div id="regionInputs"></div>
            </div>

            <!-- âœ… í•˜ë‹¨ ê²€ìƒ‰ íˆ´ë°” -->
            <div class="reviews search-toolbar">

                <!-- (2) ì‚¬ìš©ì íƒœê·¸ ìš”ì•½ UI (ì¹©ë“¤ ë“¤ì–´ê°ˆ ìë¦¬) -->
                <div class="tag-summary-mini" id="miniSummary">
                    <span class="empty">ì„ íƒëœ ì¡°ê±´ ì—†ìŒ</span>
                    <!-- JSë¡œ chip ë„£ì„ ìë¦¬ -->
                </div>

                <!-- (3-1) ë“œë¡­ë‹¤ìš´ -->
                <select name="qField" class="q-field">
                    <option value="tc">ì œëª© + ë‚´ìš©</option>
                    <option value="t">ì œëª©</option>
                    <option value="c">ë‚´ìš©</option>
                </select>

                <!-- (3-2) ê²€ìƒ‰ textarea (1ì¤„ inputì²˜ëŸ¼) -->
                <textarea name="q" class="q-input" rows="1" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>

                <!-- (3-3) ê²€ìƒ‰ ë²„íŠ¼ (ì‘ê²Œ, ì˜¤ë¥¸ìª½ ë) -->
                <button type="submit" class="q-btn">ê²€ìƒ‰</button>
            </div>


        </section>
    </form>

    <!-- =========================
         ê²Œì‹œê¸€ ë¦¬ìŠ¤íŠ¸
    ========================== -->
    <section class="post-list">

        <article class="post-card" th:each="post : ${posts}">
            <a class="post-link" th:href="@{/reviews/{id}(id=${post.id})}">

                <!-- ì™¼ìª½: ì„¬ë„¤ì¼ -->
                <div class="post-thumb">
                    <img th:if="${post.thumbnailUrl != null}"
                         th:src="${post.thumbnailUrl}"
                         alt="thumbnail"/>

                    <div th:if="${post.thumbnailUrl == null}"
                         class="post-thumb--placeholder">
                        No Image
                    </div>
                </div>

                <!-- ì˜¤ë¥¸ìª½: ì½˜í…ì¸  -->
                <div class="post-body">

                    <h3 class="post-title" th:text="${post.title}">ì œëª©</h3>

                    <div class="post-meta">
                        <!-- ì—¬í–‰ìœ í˜•: ì½”ë“œ -> í•œê¸€ -->
                        <span class="badge"
                              th:if="${post.travelType != null}"
                              th:text="${post.travelType == 'solo' ? 'í˜¼ì' :
                                         post.travelType == 'couple' ? 'ì»¤í”Œ' :
                                         post.travelType == 'family' ? 'ê°€ì¡±' :
                                         post.travelType == 'friends' ? 'ì¹œêµ¬' :
                                         post.travelType}">ìœ í˜•</span>

                        <!-- í…Œë§ˆ: ì½”ë“œ -> í•œê¸€ -->
                        <span class="badge"
                              th:if="${post.theme != null}"
                              th:text="${post.theme == 'freedom' ? 'ììœ ì—¬í–‰' :
                                         post.theme == 'healing' ? 'íë§' :
                                         post.theme == 'food' ? 'ë§›ì§‘' :
                                         post.theme == 'activity' ? 'ì•¡í‹°ë¹„í‹°' :
                                         post.theme == 'nature' ? 'ìì—°' :
                                         post.theme}">í…Œë§ˆ</span>

                        <span class="badge"
                              th:if="${post.period != null}"
                              th:text="${post.period}">ê¸°ê°„</span>

                        <span class="badge"
                              th:if="${post.level != null}"
                              th:text="${post.level}">ë‚œì´ë„</span>

                        <span class="badge"
                              th:each="tag : ${post.regionTags}"
                              th:text="${tag}">ì§€ì—­</span>
                    </div>

                    <p class="post-desc"
                       th:text="${#strings.abbreviate(post.summary, 80)}">
                        ìš”ì•½
                    </p>

                </div>
            </a>
        </article>


        <!-- ë°ì´í„° ì—†ì„ ë•Œ -->
        <div class="empty" th:if="${posts == null || #lists.isEmpty(posts)}">
            ì¡°ê±´ì— ë§ëŠ” ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.
        </div>

    </section>

</main>

<!-- JS ë¶„ë¦¬ ë¡œë”© -->
<script th:src="@{/js/main.js}" src="/js/main.js"></script>
<script th:src="@{/js/reviews.js}" src="/js/reviews.js"></script>

<style>
    /* ===============================
       REVIEWS PAGE ONLY (namespaced)
    ================================ */

    /* ë ˆì´ì•„ì›ƒ */
    .reviews {
        width: min(1100px, 92%);
        margin: 0 auto;
        padding: 24px 0 24px;
    }

    .reviews .page-title {
        font-size: 28px;
        font-weight: 800;
        margin: 10px 0 18px;
    }

    /* âœ… ì œëª© + ì˜¤ë¥¸ìª½ ë²„íŠ¼ í•œ ì¤„ */
    .reviews .reviews-title-row{
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        margin: 10px 0 18px; /* ê¸°ì¡´ page-title margin ì—­í•  */
    }

    /* ê¸°ì¡´ page-title margin ì œê±°(ì¤„ ê²¹ì¹¨ ë°©ì§€) */
    .reviews .reviews-title-row .page-title{
        margin: 0;
    }

    /* âœ… ê²€ìƒ‰ ë²„íŠ¼(q-btn)ê³¼ ê°™ì€ ëŠë‚Œì˜ 'í›„ê¸° ì‘ì„±í•˜ê¸°' */
    .reviews .write-btn{
        display: inline-flex;
        align-items: center;
        justify-content: center;

        height: 38px;
        padding: 0 14px;
        border-radius: 999px;

        font-size: 0.86rem;
        font-weight: 800;
        line-height: 1;
        text-decoration: none;
        white-space: nowrap;

        border: 1px solid var(--chip-border);
        background: var(--chip-bg-active);
        color: #fff;

        box-shadow: 0 2px 0 rgba(0,0,0,0.10);
        transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
    }

    .reviews .write-btn:hover{
        transform: translateY(-1px);
        box-shadow: 0 4px 0 rgba(0,0,0,0.12);
        filter: brightness(0.98);
    }

    .reviews .write-btn:active{
        transform: translateY(0);
        box-shadow: 0 1px 0 rgba(0,0,0,0.10);
    }


    /* í•„í„° íŒ¨ë„ */
    .reviews .filter-panel {
        border: 1px solid #e5e7eb;
        border-radius: 12px;
        padding: 18px;
        background: #fff;
    }

    .reviews .filter-row {
        display: grid;
        grid-template-columns: 90px 1fr;
        gap: 14px;
        align-items: center;
        margin-bottom: 14px;
    }

    .reviews .filter-label {
        font-weight: 800;
        color: #111827;
        padding-top: 0px;
        line-height: 1.2;
    }

    /* ì¹© ë©: (ì¤‘ìš”) ê°€ë¡œ wrap ì•ˆì •í™” */
    .reviews .filter-chips {
        display: flex !important;
        flex-wrap: wrap !important;
        gap: 10px !important;
        align-items: center;
    }

    /* ì¹© ë²„íŠ¼ */
    .reviews .chip {
        display: inline-flex;          /* âœ… ë²„íŠ¼ì´ ì„¸ë¡œë¡œ 100% ëŠ˜ì–´ë‚˜ëŠ” ì „ì—­CSS ë°©ì–´ */
        width: auto;                   /* âœ… ì „ì—­ button { width:100% } ë°©ì–´ */
        border: 1px solid #e5e7eb;
        background: #fff;
        padding: 10px 14px;
        border-radius: 10px;
        cursor: pointer;
        font-weight: 700;
        color: #374151;
        transition: 0.15s ease;
    }

    .reviews .chip:hover {
        transform: translateY(-1px);
    }

    .reviews .chip.active {
        background: #ef4444;
        border-color: #ef4444;
        color: #fff;
    }

    /* ê²€ìƒ‰ ë²„íŠ¼ */
    .reviews .search-btn {
        width: 100%;
        margin-top: 14px;
        height: 54px;
        border-radius: 12px;
        border: none;
        background: #3b82f6;
        color: #fff;
        font-size: 18px;
        font-weight: 900;
        cursor: pointer;
    }

    /* =========================
       ì˜ˆì‚° ìŠ¬ë¼ì´ë”
    ========================= */
    .reviews .reviews-budget {
        display: grid;
        gap: 0px;
    }

    .reviews .reviews-budget-values {
        font-weight: 800;
        color: #111827;
        margin-bottom: 2px;
    }

    .reviews .reviews-budget-slider {
        position: relative;  /* âœ… í•„ìˆ˜ */
        height: 36px;        /* âœ… í•„ìˆ˜ (input ë†’ì´ë‘ ë§ì¶¤) */
        margin-bottom: 0px;
    }

    /* íŠ¸ë™ ë ˆì´ì–´(ì „ì²´ëŠ” í°ìƒ‰ + í…Œë‘ë¦¬) */
    .reviews .reviews-budget-track {
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 100%;
        height: 8px;
        border-radius: 999px;
        background: #ffffff;
        border: 1px solid rgba(17,24,39,0.18);
        overflow: hidden;
    }

    /* ì„ íƒ êµ¬ê°„(íŒŒë€ìƒ‰) */
    .reviews .reviews-budget-range {
        position: absolute;
        top: 0;
        height: 100%;
        border-radius: 999px;
        background: rgba(37, 99, 235, 0.95);
        left: 0%;
        width: 100%;
    }

    /* ë‘ range ê²¹ì¹˜ê¸° */
    .reviews .reviews-budget-slider input[type="range"] {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 36px;
        background: transparent;
        pointer-events: none; /* íŠ¸ë™ í´ë¦­ ë§‰ê³  thumbë§Œ ì¡íˆê²Œ */
        appearance: none;
        -webkit-appearance: none;
    }

    /* webkit íŠ¸ë™ì€ íˆ¬ëª…(ìš°ë¦¬ê°€ track ë ˆì´ì–´ë¥¼ ë³„ë„ë¡œ ê¹”ì•˜ìœ¼ë¯€ë¡œ) */
    .reviews .reviews-budget-slider input[type="range"]::-webkit-slider-runnable-track {
        height: 8px;
        border-radius: 999px;
        background: transparent;
    }

    /* webkit thumb */
    .reviews .reviews-budget-slider input[type="range"]::-webkit-slider-thumb {
        pointer-events: auto;
        -webkit-appearance: none;
        width: 18px;
        height: 18px;
        border-radius: 999px;
        background: #ffffff;
        border: 2px solid rgba(37, 99, 235, 0.95);
        box-shadow: 0 2px 10px rgba(0,0,0,0.18);
        margin-top: -5px;
        cursor: grab;
    }

    .reviews .reviews-budget-slider input[type="range"]:active::-webkit-slider-thumb {
        cursor: grabbing;
    }

    .reviews .reviews-budget-slider input[type="range"]:hover::-webkit-slider-thumb {
        background: #f8fafc;
        border-color: rgba(29, 78, 216, 1);
    }

    /* Firefox íŠ¸ë™/ì¸ë„ íˆ¬ëª… íŠ¸ë™ */
    .reviews .reviews-budget-slider input[type="range"]::-moz-range-track {
        height: 8px;
        border-radius: 999px;
        background: transparent;
    }

    .reviews .reviews-budget-slider input[type="range"]::-moz-range-thumb {
        pointer-events: auto;
        width: 18px;
        height: 18px;
        border-radius: 999px;
        background: #ffffff;
        border: 2px solid rgba(37, 99, 235, 0.95);
        box-shadow: 0 2px 10px rgba(0,0,0,0.18);
        cursor: grab;
    }

    .reviews .reviews-budget-slider input[type="range"]:hover::-moz-range-thumb {
        background: #f8fafc;
        border-color: rgba(29, 78, 216, 1);
    }

    /* ====== ticks + label ====== */
    .reviews .reviews-budget-ticks {
        position: relative;
        height: 22px;
        margin-top: 2px;
        user-select: none;
    }

    .reviews .reviews-budget-ticks .tick {
        position: absolute;
        top: 0;
        width: 1px;
        height: 8px;
        background: rgba(17, 24, 39, 0.22);
    }

    .reviews .reviews-budget-ticks .tick-label {
        position: absolute;
        top: 10px;
        transform: translateX(-50%);
        font-size: 11px;
        font-weight: 800;
        color: rgba(17, 24, 39, 0.55);
        white-space: nowrap;
    }

    /* =========================
       ì§€ì—­ í–‰(ê°€ë¡œ ì•ˆì •í™”)
    ========================= */
    .reviews .region-row .region-inline {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        width: 100%;
    }

    /* region-inline ì•ˆì—ì„œ chipsê°€ ê³µê°„ì„ ë¨¹ë„ë¡ */
    .reviews .region-row .region-inline .filter-chips {
        flex: 1;
        min-width: 0;
    }

    /* =========================
       í•„í„° íŒíŠ¸(ì•ˆë‚´ë¬¸êµ¬)
    ========================= */
    .reviews .filter-hint {
        margin-top: 4px;
        font-size: 11px;
        font-weight: 600;
        line-height: 1.2;
        color: #9ca3af;
    }

    .reviews .filter-hint.single {
        color: #9ca3af; /* ë‹¨ì¼ë„ ê·¸ë ˆì´ í†µì¼ */
    }

    .reviews .filter-hint.multi {
        color: #9ca3af;
    }

    .reviews .filter-hint.sub {
        font-weight: 500;
    }

    .reviews .filter-hint.one-line {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* âœ… ì§€ì—­ ì„¤ëª…ë¬¸: ì•„ë˜ ì¤„ì—ì„œ 2ì—´ì„ ê°€ë¡œë¡œ ì°¨ì§€ */
    .reviews .region-row .region-desc{
        grid-column: 1 / -1;          /* ì™¼ìª½~ì˜¤ë¥¸ìª½ ì „ì²´ span */
        padding-left: 0;              /* ì‹œì‘ì  ê³ ì •(í•„ìš”ì‹œ ì•„ë˜ì²˜ëŸ¼ ì¡°ì ˆ ê°€ëŠ¥) */
        margin-top: -6px;             /* ì¹©ê³¼ ê°„ê²© ì¡°ê¸ˆ ë¶™ì´ê¸°(ì›í•˜ë©´ ì¡°ì ˆ) */

        white-space: nowrap;          /* í•œ ì¤„ ê³ ì • */
        overflow: visible;            /* ... ìë¥´ì§€ ì•ŠìŒ */
        text-overflow: clip;          /* ellipsis ì œê±° */
    }

    /* âœ… í•˜ë‹¨ ê²€ìƒ‰ íˆ´ë°” */
    .reviews.search-toolbar{
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 0px;
    }

    /* (2) ì‚¬ìš©ì íƒœê·¸ ìš”ì•½ */
    .reviews .tag-summary-mini{
        flex: 1;                  /* ì™¼ìª½ ì˜ì—­ ë„“ê²Œ */
        min-width: 260px;
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        padding: 10px 12px;
        border: 1px solid #e2e8f0;
        border-radius: 12px;
        background: #fff;
    }

    .reviews .tag-summary-mini .empty{
        color: #94a3b8;
        font-size: 0.95rem;
    }

    /* (3-1) ë“œë¡­ë‹¤ìš´ */
    .reviews .q-field{
        width: 150px;
        height: 42px;
        padding: 0 10px;
        border: 1px solid #e2e8f0;
        border-radius: 10px;
        background: #fff;
    }

    /* (3-2) ê²€ìƒ‰ textareaë¥¼ inputì²˜ëŸ¼ */
    .reviews .q-input{
        width: 320px;
        height: 42px;
        padding: 10px 12px;
        resize: none;
        overflow: hidden;
        border: 1px solid #e2e8f0;
        border-radius: 10px;
        line-height: 1.2;
    }

    /* (3-3) ê²€ìƒ‰ ë²„íŠ¼ ì‘ê²Œ + ì˜¤ë¥¸ìª½ */
    .reviews .q-btn{
        height: 42px;
        padding: 0 18px;
        border: none;
        border-radius: 10px;
        background: #3b82f6;
        color: #fff;
        font-weight: 700;
        cursor: pointer;
        white-space: nowrap;
    }

    /* âœ… íƒœê·¸ ì¹© ê³µí†µ (ìˆìœ¼ë©´ íŒ¨ìŠ¤, ì—†ìœ¼ë©´ ì¶”ê°€) */
    .reviews .tag-summary-mini .chip{
        display: inline-flex;
        align-items: center;
        gap: 6px;

        white-space: nowrap;

        font-size: 0.85rem;          /* âœ… ê¸€ì”¨ ì¡°ê¸ˆ ì‘ê²Œ */
        font-weight: 700;
        padding: 5px 9px;            /* âœ… ì¹© ë†’ì´ ì‚´ì§ ì¤„ì´ê¸° */
        border-radius: 999px;

        background: #eef2ff;         /* âœ… ì€ì€í•œ ë¼ë²¤ë”/ë¸”ë£¨ í†¤ */
        border: 1px solid #c7d2fe;   /* âœ… ë°°ê²½ê³¼ ì–´ìš¸ë¦¬ëŠ” í…Œë‘ë¦¬ */
        color: #1f2a37;

        box-shadow: 0 1px 4px rgba(15, 23, 42, 0.08); /* âœ… ì‚´ì§ë§Œ ë„ìš°ê¸° */
    }

    /* âœ… ì˜ˆì‚° ì¹©ì€ ë¬´ì¡°ê±´ ë‹¤ìŒ ì¤„(ì•„ë«ì¤„)ë¡œ */
    .reviews .tag-summary-mini .chip.budget{
        flex-basis: 100%;      /* ì´ í•œ ì¤„ì„ í†µì§¸ë¡œ ì°¨ì§€ â†’ ìë™ ì¤„ë°”ê¿ˆ */
        border-radius: 12px;   /* ì˜ˆì‚°ì€ pill ë§ê³  ë°•ìŠ¤ ëŠë‚Œ ì›í•˜ë©´ */
        justify-content: flex-start;
        white-space: normal;

        font-size: 0.84rem;

        background: #ecfeff;         /* âœ… ë¯¼íŠ¸ ê³„ì—´ë¡œ êµ¬ë¶„ê° */
        border-color: #a5f3fc;
        color: #0f172a;

    }

    /* =========================
   âœ… ë²„íŠ¼/ì¹© UI í†µì¼ (ì´ë¯¸ì§€ ëŠë‚Œ)
   - í•„í„°ì¹©(.chip)
   - ìš”ì•½ì¹©(.tag-summary-mini .chip)
   - ê²€ìƒ‰ë²„íŠ¼(.q-btn)
   - ë“œë¡­ë‹¤ìš´/ì…ë ¥ë„ ì‚´ì§ í†¤ ë§ì¶¤
========================= */

    /* í†¤ ë³€ìˆ˜ (ì›í•˜ë©´ ì—¬ê¸°ë§Œ ë°”ê¾¸ë©´ ì „ì²´ ë°”ë€œ) */
    .reviews{
        --chip-bg: #f6c792;          /* ì‚´êµ¬/ë² ì´ì§€ */
        --chip-bg-hover: #f3bc7f;
        --chip-bg-active: #eea95b;   /* í™œì„± ë” ì§„í•˜ê²Œ */
        --chip-border: #d9a26a;
        --chip-text: #3b2f22;

        --chip-bg-off: #ffffff;      /* ë¹„í™œì„±(ì„ íƒì•ˆë¨) */
        --chip-border-off: #e5e7eb;
        --chip-text-off: #374151;
    }

    /* ì¹© ë© ê°„ê²©/ì •ë ¬ (ë²„íŠ¼ ë­‰ì¹¨ ëŠë‚Œìœ¼ë¡œ ì¡°ê¸ˆ ì¤„ì„) */
    .reviews .filter-chips{
        gap: 8px !important;
    }

    /* âœ… í•„í„°ì¹© ë²„íŠ¼ ê¸°ë³¸ */
    .reviews .chip{
        display: inline-flex;
        align-items: center;
        justify-content: center;

        width: auto;
        border-radius: 999px;

        /* ê¸€ì/í¬ê¸°: â€œë²„íŠ¼ì´ í†µí†µí•˜ì§€ ì•Šê²Œâ€ */
        font-size: 0.86rem;          /* ì „ì²´ì ìœ¼ë¡œ ì‚´ì§ ë‹¤ìš´ */
        font-weight: 700;
        line-height: 1;

        padding: 7px 12px;           /* âœ… ì—¬ë°± ì¤„ì„ */
        border: 1px solid var(--chip-border-off);
        background: var(--chip-bg-off);
        color: var(--chip-text-off);

        cursor: pointer;
        transition: transform .12s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;
        box-shadow: 0 2px 0 rgba(0,0,0,0.07);  /* ì´ë¯¸ì§€ ëŠë‚Œ: ì‚´ì§ ëˆŒë¦° ê·¸ë¦¼ì */
    }

    .reviews .chip:hover{
        transform: translateY(-1px);
        box-shadow: 0 4px 0 rgba(0,0,0,0.08);
    }

    .reviews .chip:active{
        transform: translateY(0);
        box-shadow: 0 1px 0 rgba(0,0,0,0.08);
    }

    /* âœ… í™œì„±(ì„ íƒë¨) */
    .reviews .chip.active{
        background: var(--chip-bg);
        border-color: var(--chip-border);
        color: var(--chip-text);
    }

    /* í™œì„± hoverëŠ” ì¡°ê¸ˆ ë” ì§„í•˜ê²Œ */
    .reviews .chip.active:hover{
        background: var(--chip-bg-hover);
    }

    /* =========================
       âœ… ê²€ìƒ‰ ë²„íŠ¼ë„ ì¹© ëŠë‚Œìœ¼ë¡œ í†µì¼
    ========================= */
    .reviews .q-btn{
        height: 38px;                /* 42 -> 38ë¡œ ì¤„ì—¬ì„œ ì»´íŒ©íŠ¸ */
        padding: 0 14px;
        border-radius: 999px;

        font-size: 0.86rem;
        font-weight: 800;
        line-height: 1;

        border: 1px solid var(--chip-border);
        background: var(--chip-bg-active);
        color: #fff;

        cursor: pointer;
        box-shadow: 0 2px 0 rgba(0,0,0,0.10);
        transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
        white-space: nowrap;
    }

    .reviews .q-btn:hover{
        transform: translateY(-1px);
        box-shadow: 0 4px 0 rgba(0,0,0,0.12);
        filter: brightness(0.98);
    }

    .reviews .q-btn:active{
        transform: translateY(0);
        box-shadow: 0 1px 0 rgba(0,0,0,0.10);
    }

    /* =========================
       âœ… ìš”ì•½ì¹©(ë¯¸ë¦¬ë³´ê¸° UI)ë„ ë™ì¼ í†¤
    ========================= */
    .reviews .tag-summary-mini{
        padding: 10px 12px;
        border-radius: 12px;
    }

    .reviews .tag-summary-mini .chip{
        /* í•„í„°ì¹©ê³¼ ë™ì¼í•˜ê²Œ ë³´ì´ê²Œ */
        font-size: 0.82rem;
        font-weight: 750;
        padding: 6px 10px;
        border-radius: 999px;

        background: #ffe1bf;          /* ìš”ì•½ì¹©ì€ ì¡°ê¸ˆ ë” ë°ê²Œ */
        border: 1px solid #e6b17a;
        color: #3b2f22;

        box-shadow: 0 2px 0 rgba(0,0,0,0.06);
    }

    /* âœ… ì˜ˆì‚°ì€ ì•„ë«ì¤„ + ì •ë³´ ë¼ì¸ ëŠë‚Œ */
    .reviews .tag-summary-mini .chip.budget{
        flex-basis: 100%;
        border-radius: 12px;
        white-space: normal;
        justify-content: flex-start;

        font-size: 0.82rem;
        padding: 8px 10px;

        background: #fff7ed;          /* ì¡°ê¸ˆ ë” ì˜…ì€ ë² ì´ì§€ */
        border-color: #f0c38d;
        color: #4b3a2a;
    }

    /* =========================
       (ì„ íƒ) ë“œë¡­ë‹¤ìš´/ì…ë ¥ë„ ë²„íŠ¼ê³¼ í†¤ ë§ì¶”ê¸°
    ========================= */
    .reviews .q-field,
    .reviews .q-input{
        height: 38px;                 /* 42 -> 38 */
        font-size: 0.86rem;
    }

    .reviews .q-field{
        border-radius: 12px;
        border: 1px solid #e5e7eb;
        background: #fff;
        padding: 0 10px;
    }

    .reviews .q-input{
        border-radius: 12px;
        padding: 9px 12px;
    }

    /* =========================
   âœ… ì˜ˆì‚° ìŠ¬ë¼ì´ë” ì»¬ëŸ¬ í†µì¼
   (ì¹©/ë²„íŠ¼ ì‚´êµ¬ í†¤ê³¼ ë§ì¶¤)
========================= */

    /* íŠ¸ë™ ì „ì²´(ë°°ê²½) */
    .reviews .reviews-budget-track {
        background: #fffaf3;                 /* ì•„ì£¼ ì—°í•œ ë² ì´ì§€ */
        border: 1px solid #e6b17a;            /* ì¹© í…Œë‘ë¦¬ í†¤ */
    }

    /* ì„ íƒëœ êµ¬ê°„(range bar) */
    .reviews .reviews-budget-range {
        background: linear-gradient(
                90deg,
                #f6c792 0%,
                #eea95b 100%
        );                                    /* ì‚´êµ¬ â†’ ì§„ì‚´êµ¬ */
    }

    /* ====== thumb (ë™ê·¸ë€ ì†ì¡ì´) ====== */

    /* Webkit (Chrome, Edge, Safari) */
    .reviews .reviews-budget-slider
    input[type="range"]::-webkit-slider-thumb {
        background: #fffaf3;                  /* í°ë² ì´ì§€ */
        border: 2px solid #eea95b;             /* í™œì„± ì¹© ìƒ‰ */
        box-shadow: 0 2px 6px rgba(0,0,0,0.18);
    }

    /* hover */
    .reviews .reviews-budget-slider
    input[type="range"]:hover::-webkit-slider-thumb {
        background: #fff1dc;
        border-color: #e59642;
    }

    /* Firefox */
    .reviews .reviews-budget-slider
    input[type="range"]::-moz-range-thumb {
        background: #fffaf3;
        border: 2px solid #eea95b;
        box-shadow: 0 2px 6px rgba(0,0,0,0.18);
    }

    /* ====== ëˆˆê¸ˆ(ticks) ====== */
    .reviews .reviews-budget-ticks .tick {
        background: rgba(217, 162, 106, 0.6);  /* ë² ì´ì§€ ë¸Œë¼ìš´ */
    }

    .reviews .reviews-budget-ticks .tick-label {
        color: #8b5e34;                        /* ê¸€ìë„ í†µì¼ */
        font-weight: 700;
    }

    /* =========================
   Reviews - ê²Œì‹œê¸€ ë¦¬ìŠ¤íŠ¸ (ì™„ì„±ë³¸)
   ëª©í‘œ:
   [ì„¬ë„¤ì¼] [íƒ€ì´í‹€]
   [ì„¬ë„¤ì¼] [íƒœê·¸...]
   [ì„¬ë„¤ì¼] [ë‚´ìš©...]
========================= */

    .reviews .post-list {
        margin-top: 18px;
        display: grid;
        gap: 12px;
    }

    /* ì¹´ë“œ: ì™¼ìª½ ëª¨ì„œë¦¬ê¹Œì§€ ì„¬ë„¤ì¼ì´ ë¶™ì–´ì•¼ í•˜ë¯€ë¡œ
       paddingì€ ì¹´ë“œê°€ ì•„ë‹ˆë¼ ë§í¬(post-link)ì— ì¤€ë‹¤ */
    .reviews .post-card {
        border: 1px solid #e5e7eb;
        border-radius: 12px;
        background: #fff;
        overflow: hidden; /* ì„¬ë„¤ì¼ì´ ì¹´ë“œ ëª¨ì„œë¦¬ì™€ ë”± ë§ê²Œ */
        height: 150px;          /* ğŸ”‘ ì „ì²´ ì¹´ë“œ ë†’ì´ */
    }

    /* ë§í¬(ì¹´ë“œ ì „ì²´ í´ë¦­): ê°€ë¡œ ë ˆì´ì•„ì›ƒ */
    .reviews .post-link {
        display: flex;              /* âœ… block -> flex (ì¶©ëŒ í•´ê²°) */
        align-items: stretch;       /* ì„¬ë„¤ì¼ ì„¸ë¡œ ê½‰ ì±„ì›€ */
        gap: 14px;
        color: inherit;
        text-decoration: none;
    }

    /* ì™¼ìª½ ì„¬ë„¤ì¼ */
    .reviews .post-thumb {
        width: 180px;
        height: 100%;
        flex: 0 0 180px;
        background: #f3f4f6;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* ì„¬ë„¤ì¼ ì´ë¯¸ì§€: ë°•ìŠ¤ ê½‰ ì±„ìš°ê¸° */
    .reviews .post-thumb img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
    }

    /* ì´ë¯¸ì§€ ì—†ì„ ë•Œ */
    .reviews .post-thumb--placeholder {
        font-size: 13px;
        font-weight: 800;
        color: #9ca3af;
    }

    /* ì˜¤ë¥¸ìª½ ì½˜í…ì¸  ì˜ì—­ */
    .reviews .post-body {
        padding: 14px;              /* âœ… ê¸°ì¡´ post-card paddingì„ ì—¬ê¸°ë¡œ ì´ë™ */
        display: flex;
        flex-direction: column;
        gap: 8px;
        flex: 1;
        min-width: 0;
    }

    /* ì œëª© */
    .reviews .post-title {
        margin: 0;
        font-size: 18px;
        font-weight: 900;           /* ê¸°ì¡´ í†¤ ìœ ì§€ */
        line-height: 1.25;
    }

    /* =========================
       âœ… ê²Œì‹œê¸€ ì¹´ë“œ íƒœê·¸(ë±ƒì§€) = íƒœê·¸ ë¯¸ë¦¬ë³´ê¸° ì¹©ê³¼ ë™ì¼ í†¤
       - ê¸°ì¡´ .reviews .badge ë¥¼ ì´ê±¸ë¡œ êµì²´
    ========================= */
    .reviews .post-meta{
        display:flex;
        gap:8px;
        flex-wrap:wrap;
        margin:0;
        align-items:center;
    }

    /* ê¸°ì¡´ íšŒìƒ‰ badge â†’ ì‚´êµ¬í†¤ ì¹©ìœ¼ë¡œ í†µì¼ */
    .reviews .badge{
        display:inline-flex;
        align-items:center;
        justify-content:center;

        font-size: 0.82rem;
        font-weight: 750;
        line-height: 1;

        padding: 6px 10px;
        border-radius: 999px;

        background: #ffe1bf;     /* tag-summary-mini ì¹©ê³¼ ë™ì¼ */
        border: 1px solid #e6b17a;
        color: #3b2f22;

        box-shadow: 0 2px 0 rgba(0,0,0,0.06);
        white-space: nowrap;
    }

    /* ìš”ì•½ */
    .reviews .post-desc {
        margin: 0;
        color: #555;
        line-height: 1.45;
        display: -webkit-box;
        -webkit-line-clamp: 2;  /* 2ì¤„ ì œí•œ */
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    /* ì¹´ë“œ hover (ê²Œì‹œíŒ ëŠë‚Œ) */
    .reviews .post-card:hover {
        border-color: #d1d5db;
        box-shadow: 0 8px 24px rgba(0,0,0,0.06);
        transform: translateY(-1px);
        transition: all 0.15s ease;
    }

    /* ë¹ˆ ê²°ê³¼ */
    .reviews .empty {
        margin-top: 0px;
        color: #6b7280;
        font-weight: 700;
    }

    /* (ì„ íƒ) ëª¨ë°”ì¼: ì„¬ë„¤ì¼ ìœ„/ë³¸ë¬¸ ì•„ë˜ë¡œ ì „í™˜ */
    @media (max-width: 768px) {
        .reviews .post-link {
            flex-direction: column;
            gap: 0;
        }

        .reviews .post-thumb {
            width: 100%;
            flex: 0 0 auto;
            height: 180px;
        }

        .reviews .post-body {
            padding: 14px;
        }
    }


    /* âœ… í™”ë©´ ì‘ì•„ì§€ë©´ ìì—°ìŠ¤ëŸ½ê²Œ ì¤„ë°”ê¿ˆ */
    @media (max-width: 900px){
        .reviews.search-toolbar{
            flex-wrap: wrap;
        }
        .reviews .q-input{
            flex: 1;
            width: auto;
            min-width: 220px;
        }
        .reviews .q-field{
            width: 160px;
        }
        .reviews .tag-summary-mini{
            flex-basis: 100%;
        }
    }

</style>


</body>
</html>
