# LMS 프로젝트 소개 (면접/노션용)

## 프로젝트 개요

**일본 여행 LMS**는 일본 여행을 준비하는 학습자를 위한 온라인 학습 관리 시스템입니다.
실무 LMS에서 사용되는 핵심 기능들을 Spring Boot + Thymeleaf 기반으로 구현했습니다.

---

## 실무 LMS의 핵심 구조

### 왜 이런 구조가 필요한가?

일반적인 "결제 → 바로 수강" 방식은 간단하지만, 실무 환경(기업 교육, 학원 등)에서는 부족합니다.

| 일반 서비스 | 실무 LMS |
|-------------|----------|
| 결제하면 바로 수강 | 승인/배정 프로세스 필요 |
| 개인별 진도 관리 없음 | 학습 추적 필수 |
| 출석 개념 없음 | 출석/이수 관리 |
| 단순 권한 구조 | 관리자/학습자 역할 분리 |

### 혼합형 수강 모델을 선택한 이유

실무에서는 두 가지 교육 유형이 공존합니다:

1. **선택 교육** (Approval 방식)
   - 학습자가 원하는 강좌를 신청
   - 관리자가 자격 요건 확인 후 승인
   - 예: 심화 과정, 정원 제한 강좌

2. **필수 교육** (Assignment 방식)
   - 관리자가 특정 학습자/그룹에 강제 배정
   - 예: 신입 교육, 법정 필수 교육

이 LMS는 **두 가지 방식을 하나의 Enrollment 모델로 통합**하여 운영 편의성을 높였습니다.

---

## 주요 기능

### 1. 수강 관리 (Enrollment)
- 정책별 수강 신청: SELF(즉시) / APPROVAL(승인 필요) / ASSIGN_ONLY(배정만)
- 관리자 승인/반려/배정 기능
- 상태 추적: 신청 → 승인 → 진행 → 완료

### 2. 학습 추적 (Learning Progress)
- 영상 재생 위치 저장 (이어보기)
- 누적 시청 시간 기록
- 90% 이상 시청 시 자동 완료 처리
- 강좌별 진도율 계산

### 3. 출석 관리 (Attendance)
- 일일 출석 체크
- 연속 출석일 계산
- 월별 출석 캘린더
- 출석률 통계

### 4. 대시보드
- 수강 중인 강좌 수
- 평균 진도율
- 총 학습 시간
- 연속 출석일

### 5. 권한 분리
- **ADMIN**: 강좌/레슨 관리, 수강 승인/배정, 영상 업로드
- **USER**: 수강 신청, 학습, 출석 체크

---

## 기술적 특징

### 보안 고려사항
- **userId 조작 방지**: 클라이언트에서 userId를 받지 않고 서버의 SecurityContext에서 강제 추출
- **RBAC 적용**: URL 패턴 + 메서드 레벨 권한 체크
- **CSRF 보호**: API 경로만 비활성화, 폼은 CSRF 토큰 사용

### 확장 가능한 설계
- **서비스 계층 분리**: `DashboardService`는 메인/마이페이지에서 재사용
- **DTO 패턴**: 뷰에 필요한 데이터만 전달 (지연 로딩 문제 해결)
- **상태머신 패턴**: Enrollment 상태 전이 규칙 명확화

---

## 데모 체험 가이드

### 접속 정보
- URL: `http://localhost:8080`
- 관리자: `admin / admin123`
- 사용자: `user1 / user123`

### 추천 체험 순서

**1. 학습자로 체험**
1. `user1`으로 로그인
2. 강좌 목록에서 "일본어 기초 회화" 클릭
3. "수강 신청" 버튼 클릭 (SELF 정책이라 즉시 승인)
4. "나의 강의실"에서 수강 중인 강좌 확인
5. "출석체크"에서 출석 버튼 클릭

**2. 관리자로 체험**
1. `admin`으로 로그인
2. 상단 "관리자" 메뉴 클릭
3. "수강 승인" 탭에서 대기 중인 신청 확인
4. "강좌 배정" 탭에서 사용자에게 강좌 배정
5. "강좌 관리"에서 강좌/레슨 추가

---

## 기술 스택

| 영역 | 기술 |
|------|------|
| Backend | Spring Boot 4.0, Java 17 |
| Security | Spring Security 6 |
| ORM | Spring Data JPA + Hibernate |
| Database | MariaDB |
| Template | Thymeleaf |
| Build | Gradle |

---

## 향후 발전 방향

1. **영상 재생 페이지**: HTML5 video + heartbeat API 연동
2. **HLS 스트리밍**: 대용량 영상 최적화
3. **그룹 배정**: 부서/조직 단위 일괄 배정
4. **수료증 발급**: PDF 생성 기능
5. **모바일 대응**: 반응형 UI 개선

---

## 프로젝트 구조

```
ProjectTraveler/
├── src/main/java/org/zerock/projecttraveler/
│   ├── config/          # 설정 (Security, Web)
│   ├── entity/          # JPA 엔티티 (8개)
│   ├── repository/      # 데이터 접근 (8개)
│   ├── service/         # 비즈니스 로직 (7개)
│   ├── controller/      # 웹/API 컨트롤러 (8개)
│   ├── dto/             # 데이터 전송 객체 (7개)
│   └── security/        # 인증/인가 (3개)
├── src/main/resources/
│   ├── templates/       # Thymeleaf 템플릿
│   └── static/          # CSS, JS
└── docs/                # 프로젝트 문서
```

---

## 연락처

프로젝트에 대한 질문이나 피드백은 GitHub Issues를 통해 남겨주세요.
